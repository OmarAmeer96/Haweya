/* ==================== TRANSLATIONS ==================== */
const translations = {
    ar: {
        // Page & Navigation
        'page-title': 'ŸÅŸÜ ÿßŸÑÿÆÿ∑ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸä ÿßŸÑŸÖÿµŸÜŸàÿπ ŸäÿØŸàŸäÿßŸã',
        'brand-name': 'ŸÅŸÜ ÿßŸÑÿÆÿ∑',
        'nav-home': 'ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©',
        'nav-about': 'ÿπŸÜ ÿßŸÑŸÅŸÜÿßŸÜ',
        'nav-gallery': 'ÿßŸÑŸÖÿπÿ±ÿ∂',
        'nav-custom': 'ÿ∑ŸÑÿ® ÿÆÿßÿµ',
        'nav-contact': 'ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß',
        
        // Hero Section
        'hero-title': 'ŸÅŸÜ ÿßŸÑÿÆÿ∑ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸä',
        'hero-subtitle': 'ÿµŸèŸÜÿπ ÿ®ÿπŸÜÿßŸäÿ©ÿå ŸÖŸèÿµŸÖŸÖ ÿ®ÿ≠ÿ®',
        'hero-description': 'ŸÑŸàÿ≠ÿßÿ™ ŸÅŸÜŸäÿ© ŸÖÿµŸÜŸàÿπÿ© ŸäÿØŸàŸäÿßŸã ÿ™ÿ¨ŸÖÿπ ÿ®ŸäŸÜ ÿ¨ŸÖÿßŸÑ ÿßŸÑÿÆÿ∑ ÿßŸÑÿπÿ±ÿ®Ÿä ŸàÿπŸÖŸÇ ÿßŸÑŸÖÿπÿßŸÜŸä ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©',
        'hero-cta': 'ÿßÿ∑ŸÑÿ® ŸÑŸàÿ≠ÿ™ŸÉ ÿßŸÑÿÆÿßÿµÿ©',
        'scroll-down': 'ÿßÿ≥ÿ™ŸÉÿ¥ŸÅ ÿßŸÑŸÖÿ≤ŸäÿØ',
        
        // About Section
        'about-label': 'ŸÖŸÜ ŸÜÿ≠ŸÜ',
        'about-title': 'ÿπŸÜ ÿßŸÑŸÅŸÜÿßŸÜ',
        'about-p1': 'ÿ£ŸáŸÑÿßŸã ÿ®ŸÉŸÖ ŸÅŸä ÿπÿßŸÑŸÖ ÿßŸÑÿÆÿ∑ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿå ÿ≠Ÿäÿ´ ÿ™ŸÑÿ™ŸÇŸä ÿßŸÑÿ±Ÿàÿ≠ÿßŸÜŸäÿ© ŸÖÿπ ÿßŸÑŸÅŸÜ. ŸÖŸÜÿ∞ ÿ£ŸÉÿ´ÿ± ŸÖŸÜ ÿπÿ¥ÿ± ÿ≥ŸÜŸàÿßÿ™ÿå ÿ£ŸÉÿ±ÿ≥ ŸàŸÇÿ™Ÿä ŸÑÿ•ÿ≠Ÿäÿßÿ° ŸÉŸÑŸÖÿßÿ™ ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ ŸàÿßŸÑÿ£ÿØÿπŸäÿ© ŸÖŸÜ ÿÆŸÑÿßŸÑ ŸÅŸÜ ÿßŸÑÿÆÿ∑ ÿßŸÑÿπÿ±ÿ®Ÿä ÿßŸÑÿ™ŸÇŸÑŸäÿØŸä.',
        'about-p2': 'ŸÉŸÑ ŸÑŸàÿ≠ÿ© ŸÖÿµŸÜŸàÿπÿ© ŸäÿØŸàŸäÿßŸã ÿ®ÿπŸÜÿßŸäÿ© ŸÅÿßÿ¶ŸÇÿ©ÿå ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÖŸàÿßÿØ ÿ∑ÿ®ŸäÿπŸäÿ© Ÿàÿ™ŸÇŸÜŸäÿßÿ™ ÿπÿ±ŸäŸÇÿ©. ŸáÿØŸÅŸä ŸáŸà ÿ£ŸÜ ÿ£ÿ¨ÿπŸÑ ŸÉŸÑ ŸÇÿ∑ÿπÿ© ŸÅŸÜŸäÿ© ŸÜÿßŸÅÿ∞ÿ© ŸÑŸÑÿ™ÿ£ŸÖŸÑ ŸàÿßŸÑÿ∞ŸÉÿ± ŸÅŸä ÿ®Ÿäÿ™ŸÉŸÖ.',
        'about-p3': 'ÿ≥Ÿàÿßÿ° ŸÉŸÜÿ™ ÿ™ÿ®ÿ≠ÿ´ ÿπŸÜ ÿ¢Ÿäÿ© ŸÇÿ±ÿ¢ŸÜŸäÿ©ÿå ÿßÿ≥ŸÖ ŸÖÿÆÿ∑Ÿàÿ∑ ÿ®ÿ¨ŸÖÿßŸÑÿå ÿ£Ÿà ŸÇÿ∑ÿπÿ© ŸÅŸÜŸäÿ© ŸÅÿ±ŸäÿØÿ©ÿå ÿ£ŸÜÿß ŸáŸÜÿß ŸÑÿ£ÿ≠ŸàŸÑ ÿ±ÿ§Ÿäÿ™ŸÉ ÿ•ŸÑŸâ ŸàÿßŸÇÿπ ŸÖŸÑŸÖŸàÿ≥.',
        'about-feature-1': 'ÿµŸèŸÜÿπ ŸäÿØŸàŸäÿßŸã 100%',
        'about-feature-2': 'ÿ™ÿµÿßŸÖŸäŸÖ ŸÖÿÆÿµÿµÿ©',
        'about-feature-3': 'ÿ¨ŸàÿØÿ© ÿßÿ≠ÿ™ÿ±ÿßŸÅŸäÿ©',
        
        // Gallery Section
        'gallery-label': 'ÿ£ÿπŸÖÿßŸÑŸÜÿß',
        'gallery-title': 'ŸÖÿπÿ±ÿ∂ ÿßŸÑÿ£ÿπŸÖÿßŸÑ',
        'gallery-description': 'ÿßŸÉÿ™ÿ¥ŸÅ ŸÖÿ¨ŸÖŸàÿπÿ© ŸÖŸÜ ŸÑŸàÿ≠ÿßÿ™ŸÜÿß ÿßŸÑŸÖÿµŸÜŸàÿπÿ© ŸäÿØŸàŸäÿßŸã',
        'filter-all': 'ÿßŸÑŸÉŸÑ',
        'filter-quranic': 'ÿ¢Ÿäÿßÿ™ ŸÇÿ±ÿ¢ŸÜŸäÿ©',
        'filter-names': 'ÿßŸÑÿ£ÿ≥ŸÖÿßÿ°',
        'filter-canvas': 'ŸÉÿßŸÜŸÅÿ≥',
        'filter-linen': 'ŸÉÿ™ÿßŸÜ',
        'gallery-item-1-title': 'ÿ¢Ÿäÿ© ÿßŸÑŸÉÿ±ÿ≥Ÿä',
        'gallery-item-1-meta': 'ŸÉÿßŸÜŸÅÿ≥ | 60√ó80 ÿ≥ŸÖ',
        'gallery-item-2-title': 'ÿßÿ≥ŸÖ ŸÖÿÆÿµÿµ',
        'gallery-item-2-meta': 'ŸÉÿ™ÿßŸÜ | 40√ó50 ÿ≥ŸÖ',
        'gallery-item-3-title': 'ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá ÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿßŸÑÿ±ÿ≠ŸäŸÖ',
        'gallery-item-3-meta': 'ŸÉÿ™ÿßŸÜ | 50√ó70 ÿ≥ŸÖ',
        'gallery-item-4-title': 'ÿ≥Ÿàÿ±ÿ© ÿßŸÑÿ•ÿÆŸÑÿßÿµ',
        'gallery-item-4-meta': 'ŸÉÿßŸÜŸÅÿ≥ | 70√ó90 ÿ≥ŸÖ',
        'gallery-item-5-title': 'ŸÑŸÅÿ∏ ÿßŸÑÿ¨ŸÑÿßŸÑÿ©',
        'gallery-item-5-meta': 'ŸÉÿßŸÜŸÅÿ≥ | 50√ó50 ÿ≥ŸÖ',
        'gallery-item-6-title': 'ÿ¢Ÿäÿ© ŸÇÿ±ÿ¢ŸÜŸäÿ©',
        'gallery-item-6-meta': 'ŸÉÿ™ÿßŸÜ | 60√ó80 ÿ≥ŸÖ',
        
        // Custom Order Section
        'custom-label': 'ŸÖŸÖŸäÿ≤',
        'custom-title': 'ÿßÿ∑ŸÑÿ® ŸÑŸàÿ≠ÿ™ŸÉ ÿßŸÑÿÆÿßÿµÿ©',
        'custom-description': 'ŸáŸÑ ŸÑÿØŸäŸÉ ÿ¢Ÿäÿ© ŸÇÿ±ÿ¢ŸÜŸäÿ© ŸÖŸÅÿ∂ŸÑÿ© ÿ£Ÿà ÿßÿ≥ŸÖ ÿ™ÿ±ŸäÿØ ÿ™ÿÆŸÑŸäÿØŸá ÿ®ÿßŸÑÿÆÿ∑ ÿßŸÑÿπÿ±ÿ®Ÿäÿü ŸÜÿ≠ŸÜ ŸÜÿµŸÜÿπ ŸÑŸàÿ≠ÿßÿ™ ŸÅŸÜŸäÿ© ŸÖÿÆÿµÿµÿ© ÿ™ŸÜÿßÿ≥ÿ® ÿ∞ŸàŸÇŸÉ ŸàŸÖÿ≥ÿßÿ≠ÿ™ŸÉ.',
        'custom-process-title': 'ŸÉŸäŸÅ ŸÜÿπŸÖŸÑÿü',
        'step-1-title': 'ÿßÿÆÿ™ÿ± ÿßŸÑŸÜÿµ',
        'step-1-desc': 'ÿ£ÿÆÿ®ÿ±ŸÜÿß ÿ®ÿßŸÑÿ¢Ÿäÿ© ÿ£Ÿà ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑÿ∞Ÿä ÿ™ÿ±ŸäÿØŸá',
        'step-2-title': 'ÿ≠ÿØÿØ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ',
        'step-2-desc': 'ÿßÿÆÿ™ÿ± ÿßŸÑÿ≠ÿ¨ŸÖÿå ÿßŸÑŸÖÿßÿØÿ©ÿå ŸàÿßŸÑÿ£ŸÑŸàÿßŸÜ',
        'step-3-title': 'ÿ±ÿßÿ¨ÿπ ÿßŸÑÿ™ÿµŸÖŸäŸÖ',
        'step-3-desc': 'ŸÜÿ±ÿ≥ŸÑ ŸÑŸÉ ŸÖÿπÿßŸäŸÜÿ© ŸÇÿ®ŸÑ ÿßŸÑÿ®ÿØÿ°',
        'step-4-title': 'ÿßÿ≥ÿ™ŸÑŸÖ ÿ™ÿ≠ŸÅÿ™ŸÉ',
        'step-4-desc': 'Ÿäÿ™ŸÖ ÿßŸÑÿ¥ÿ≠ŸÜ ÿÆŸÑÿßŸÑ 7-14 ŸäŸàŸÖ ÿπŸÖŸÑ',
        'custom-cta': 'ÿßÿ®ÿØÿ£ ÿ∑ŸÑÿ®ŸÉ ÿßŸÑÿ¢ŸÜ',
        
        // Contact Section
        'contact-label': 'ÿ™ŸàÿßÿµŸÑ',
        'contact-title': 'ÿØÿπŸÜÿß ŸÜÿ®ÿØÿπ ŸÖÿπÿßŸã',
        'contact-description': 'ŸÜÿ≠ŸÜ ŸáŸÜÿß ŸÑŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸâ ÿ£ÿ≥ÿ¶ŸÑÿ™ŸÉ ŸàŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÇÿ∑ÿπÿ© ÿßŸÑŸÖÿ´ÿßŸÑŸäÿ©',
        'contact-email-label': 'ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä',
        'contact-whatsapp-label': 'Ÿàÿßÿ™ÿ≥ÿßÿ®',
        'contact-location-label': 'ÿßŸÑŸÖŸàŸÇÿπ',
        'contact-location': 'ÿßŸÑŸÇÿßŸáÿ±ÿ©ÿå ŸÖÿµÿ±',
        'contact-social-label': 'ÿ™ÿßÿ®ÿπŸÜÿß',
        'form-name': 'ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ',
        'form-email': 'ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä',
        'form-phone': 'ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ',
        'form-message': 'ÿ±ÿ≥ÿßŸÑÿ™ŸÉ',
        'form-submit': 'ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©',
        
        // Footer
        'footer-tagline': 'ÿ≠Ÿäÿ´ ŸäŸÑÿ™ŸÇŸä ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÅŸÜ',
        'footer-links-title': 'ÿ±Ÿàÿßÿ®ÿ∑ ÿ≥ÿ±Ÿäÿπÿ©',
        'footer-rights': 'ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ©'
    },
    en: {
        // Page & Navigation
        'page-title': 'Handmade Islamic Calligraphy Art',
        'brand-name': 'Calligraphy Art',
        'nav-home': 'Home',
        'nav-about': 'About Artist',
        'nav-gallery': 'Gallery',
        'nav-custom': 'Custom Order',
        'nav-contact': 'Contact',
        
        // Hero Section
        'hero-title': 'Islamic Calligraphy Art',
        'hero-subtitle': 'Crafted with Care, Designed with Love',
        'hero-description': 'Handmade artworks that blend the beauty of Arabic calligraphy with the depth of Islamic meanings',
        'hero-cta': 'Order Your Custom Art',
        'scroll-down': 'Explore More',
        
        // About Section
        'about-label': 'About Us',
        'about-title': 'About The Artist',
        'about-p1': 'Welcome to the world of Islamic calligraphy, where spirituality meets art. For over ten years, I have dedicated my time to bringing the words of the Holy Quran and prayers to life through traditional Arabic calligraphy.',
        'about-p2': 'Each piece is handcrafted with meticulous care, using natural materials and time-honored techniques. My goal is to make each artwork a window for contemplation and remembrance in your home.',
        'about-p3': 'Whether you are looking for a Quranic verse, a beautifully written name, or a unique piece of art, I am here to turn your vision into tangible reality.',
        'about-feature-1': '100% Handmade',
        'about-feature-2': 'Custom Designs',
        'about-feature-3': 'Professional Quality',
        
        // Gallery Section
        'gallery-label': 'Our Work',
        'gallery-title': 'Art Gallery',
        'gallery-description': 'Discover a collection of our handmade artworks',
        'filter-all': 'All',
        'filter-quranic': 'Quranic Verses',
        'filter-names': 'Names',
        'filter-canvas': 'Canvas',
        'filter-linen': 'Linen',
        'gallery-item-1-title': 'Ayat Al-Kursi',
        'gallery-item-1-meta': 'Canvas | 60√ó80 cm',
        'gallery-item-2-title': 'Custom Name',
        'gallery-item-2-meta': 'Linen | 40√ó50 cm',
        'gallery-item-3-title': 'Bismillah',
        'gallery-item-3-meta': 'Linen | 50√ó70 cm',
        'gallery-item-4-title': 'Surah Al-Ikhlas',
        'gallery-item-4-meta': 'Canvas | 70√ó90 cm',
        'gallery-item-5-title': 'Allah',
        'gallery-item-5-meta': 'Canvas | 50√ó50 cm',
        'gallery-item-6-title': 'Quranic Verse',
        'gallery-item-6-meta': 'Linen | 60√ó80 cm',
        
        // Custom Order Section
        'custom-label': 'Featured',
        'custom-title': 'Order Your Custom Piece',
        'custom-description': 'Do you have a favorite Quranic verse or a name you want immortalized in Arabic calligraphy? We create custom artworks tailored to your taste and space.',
        'custom-process-title': 'How We Work?',
        'step-1-title': 'Choose Text',
        'step-1-desc': 'Tell us the verse or name you want',
        'step-2-title': 'Set Details',
        'step-2-desc': 'Choose size, material, and colors',
        'step-3-title': 'Review Design',
        'step-3-desc': 'We send you a preview before starting',
        'step-4-title': 'Receive Masterpiece',
        'step-4-desc': 'Shipped within 7-14 business days',
        'custom-cta': 'Start Your Order Now',
        
        // Contact Section
        'contact-label': 'Contact',
        'contact-title': 'Let\'s Create Together',
        'contact-description': 'We are here to answer your questions and help you choose the perfect piece',
        'contact-email-label': 'Email',
        'contact-whatsapp-label': 'WhatsApp',
        'contact-location-label': 'Location',
        'contact-location': 'Cairo, Egypt',
        'contact-social-label': 'Follow Us',
        'form-name': 'Full Name',
        'form-email': 'Email Address',
        'form-phone': 'Phone Number',
        'form-message': 'Your Message',
        'form-submit': 'Send Message',
        
        // Footer
        'footer-tagline': 'Where Faith Meets Art',
        'footer-links-title': 'Quick Links',
        'footer-rights': 'All Rights Reserved'
    }
};

/* ==================== STATE MANAGEMENT ==================== */
let currentLang = 'ar';

/* ==================== DOM ELEMENTS ==================== */
const navbar = document.getElementById('navbar');
const navbarToggle = document.getElementById('navbarToggle');
const navbarMenu = document.getElementById('navbarMenu');
const langToggle = document.getElementById('langToggle');
const galleryGrid = document.getElementById('galleryGrid');
const filterButtons = document.querySelectorAll('.gallery__filter-btn');
const contactForm = document.getElementById('contactForm');

/* ==================== NAVBAR FUNCTIONALITY ==================== */
// Sticky Navbar on Scroll
window.addEventListener('scroll', () => {
    if (window.scrollY > 100) {
        navbar.classList.add('scrolled');
    } else {
        navbar.classList.remove('scrolled');
    }
});

// Mobile Menu Toggle
navbarToggle.addEventListener('click', () => {
    navbarMenu.classList.toggle('active');
    navbarToggle.classList.toggle('active');
});

// Close mobile menu when clicking on a link
document.querySelectorAll('.navbar__link').forEach(link => {
    link.addEventListener('click', () => {
        navbarMenu.classList.remove('active');
        navbarToggle.classList.remove('active');
    });
});

// Close mobile menu when clicking outside
document.addEventListener('click', (e) => {
    if (!navbar.contains(e.target)) {
        navbarMenu.classList.remove('active');
        navbarToggle.classList.remove('active');
    }
});

/* ==================== LANGUAGE TOGGLE ==================== */
langToggle.addEventListener('click', () => {
    currentLang = currentLang === 'ar' ? 'en' : 'ar';
    updateLanguage();
});

function updateLanguage() {
    const html = document.documentElement;
    const langText = langToggle.querySelector('.lang-text');
    
    // Update HTML attributes
    html.setAttribute('lang', currentLang);
    html.setAttribute('dir', currentLang === 'ar' ? 'rtl' : 'ltr');
    
    // Update language toggle button text
    langText.textContent = currentLang === 'ar' ? 'EN' : 'ÿπÿ±ÿ®Ÿä';
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[currentLang][key]) {
            // Check if element is input/textarea (placeholder)
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[currentLang][key];
            } else {
                element.textContent = translations[currentLang][key];
            }
        }
    });
    
    // Update page title
    document.title = translations[currentLang]['page-title'];
    
    // Add smooth transition effect
    document.body.style.opacity = '0.95';
    setTimeout(() => {
        document.body.style.opacity = '1';
    }, 150);
}

/* ==================== GALLERY FILTERING ==================== */
filterButtons.forEach(button => {
    button.addEventListener('click', () => {
        const filter = button.getAttribute('data-filter');
        
        // Update active button
        filterButtons.forEach(btn => btn.classList.remove('gallery__filter-btn--active'));
        button.classList.add('gallery__filter-btn--active');
        
        // Filter gallery items
        filterGalleryItems(filter);
    });
});

function filterGalleryItems(filter) {
    const items = document.querySelectorAll('.gallery__item');
    
    items.forEach((item, index) => {
        const category = item.getAttribute('data-category');
        
        // Add delay for stagger effect
        setTimeout(() => {
            if (filter === 'all' || category.includes(filter)) {
                item.classList.remove('hidden');
                item.style.animation = 'fadeInUp 0.5s ease forwards';
            } else {
                item.classList.add('hidden');
            }
        }, index * 50);
    });
}

/* ==================== SMOOTH SCROLLING ==================== */
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        
        if (target) {
            const offsetTop = target.offsetTop - 80; // Account for navbar height
            window.scrollTo({
                top: offsetTop,
                behavior: 'smooth'
            });
        }
    });
});

/* ==================== CONTACT FORM HANDLING ==================== */
contactForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    // Get form data
    const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        message: document.getElementById('message').value
    };
    
    // Show success message (you would typically send this to a server)
    showNotification(
        currentLang === 'ar' 
            ? 'ÿ¥ŸÉÿ±ÿßŸã ŸÑŸÉ! ÿ≥ŸÜÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÉ ŸÇÿ±Ÿäÿ®ÿßŸã' 
            : 'Thank you! We will contact you soon',
        'success'
    );
    
    // Reset form
    contactForm.reset();
    
    // Log form data (for demonstration)
    console.log('Form submitted:', formData);
});

/* ==================== NOTIFICATION SYSTEM ==================== */
function showNotification(message, type = 'success') {
    const notification = document.createElement('div');
    notification.className = `notification notification--${type}`;
    notification.textContent = message;
    
    // Style notification
    Object.assign(notification.style, {
        position: 'fixed',
        top: '100px',
        right: currentLang === 'ar' ? 'auto' : '20px',
        left: currentLang === 'ar' ? '20px' : 'auto',
        padding: '1rem 2rem',
        background: type === 'success' ? '#4caf50' : '#f44336',
        color: 'white',
        borderRadius: '8px',
        boxShadow: '0 4px 20px rgba(0,0,0,0.2)',
        zIndex: '9999',
        animation: 'slideIn 0.3s ease',
        fontWeight: '600'
    });
    
    document.body.appendChild(notification);
    
    // Remove after 3 seconds
    setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => notification.remove(), 300);
    }, 3000);
}

/* ==================== SCROLL ANIMATIONS ==================== */
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe sections for scroll animations
document.querySelectorAll('section').forEach(section => {
    section.style.opacity = '0';
    section.style.transform = 'translateY(30px)';
    section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
    observer.observe(section);
});

/* ==================== GALLERY ITEM ACTIONS ==================== */
document.querySelectorAll('.gallery__item-action').forEach(button => {
    button.addEventListener('click', (e) => {
        const action = button.getAttribute('aria-label');
        const item = button.closest('.gallery__item');
        const title = item.querySelector('.gallery__item-title').textContent;
        
        if (action === 'Zoom') {
            // You could implement a lightbox here
            console.log('Zoom:', title);
            showNotification(
                currentLang === 'ar' 
                    ? 'ÿ¨ÿßÿ±Ÿä ŸÅÿ™ÿ≠ ÿßŸÑÿµŸàÿ±ÿ© ÿ®ÿ≠ÿ¨ŸÖ ÿ£ŸÉÿ®ÿ±...' 
                    : 'Opening larger image...',
                'success'
            );
        } else if (action === 'Details') {
            // You could show a modal with more details
            console.log('Details:', title);
            showNotification(
                currentLang === 'ar' 
                    ? 'ÿπÿ±ÿ∂ ÿ™ŸÅÿßÿµŸäŸÑ: ' + title 
                    : 'Viewing details: ' + title,
                'success'
            );
        }
    });
});

/* ==================== CURRENT YEAR IN FOOTER ==================== */
document.getElementById('currentYear').textContent = new Date().getFullYear();

/* ==================== VIDEO BACKGROUND OPTIMIZATION ==================== */
const heroVideo = document.querySelector('.hero__video');
if (heroVideo) {
    // Pause video on mobile to save bandwidth
    if (window.innerWidth < 768) {
        heroVideo.pause();
        heroVideo.style.display = 'none';
    }
    
    // Handle video loading errors gracefully
    heroVideo.addEventListener('error', () => {
        console.log('Video failed to load, using poster image');
        heroVideo.style.display = 'none';
    });
}

/* ==================== PERFORMANCE OPTIMIZATIONS ==================== */
// Debounce scroll events
let scrollTimeout;
window.addEventListener('scroll', () => {
    if (scrollTimeout) {
        window.cancelAnimationFrame(scrollTimeout);
    }
    scrollTimeout = window.requestAnimationFrame(() => {
        // Scroll-based animations can go here
    });
}, { passive: true });

// Lazy load images (if needed for additional images)
if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                if (img.dataset.src) {
                    img.src = img.dataset.src;
                    img.removeAttribute('data-src');
                    imageObserver.unobserve(img);
                }
            }
        });
    });
    
    document.querySelectorAll('img[data-src]').forEach(img => {
        imageObserver.observe(img);
    });
}

/* ==================== ACCESSIBILITY ENHANCEMENTS ==================== */
// Keyboard navigation for gallery
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        // Close mobile menu if open
        navbarMenu.classList.remove('active');
        navbarToggle.classList.remove('active');
    }
});

// Focus trap for mobile menu
const focusableElements = navbarMenu.querySelectorAll(
    'a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])'
);

if (focusableElements.length > 0) {
    const firstFocusable = focusableElements[0];
    const lastFocusable = focusableElements[focusableElements.length - 1];
    
    navbarMenu.addEventListener('keydown', (e) => {
        if (e.key === 'Tab') {
            if (e.shiftKey) {
                if (document.activeElement === firstFocusable) {
                    e.preventDefault();
                    lastFocusable.focus();
                }
            } else {
                if (document.activeElement === lastFocusable) {
                    e.preventDefault();
                    firstFocusable.focus();
                }
            }
        }
    });
}

/* ==================== PRELOAD CRITICAL RESOURCES ==================== */
window.addEventListener('load', () => {
    // Remove loading states
    document.body.classList.add('loaded');
    
    // Trigger initial animations
    setTimeout(() => {
        document.querySelector('.hero__content')?.classList.add('animated');
    }, 300);
});

/* ==================== INITIALIZE ==================== */
console.log('%cüé® Islamic Calligraphy Art Portfolio', 'font-size: 20px; color: #c6a87c; font-weight: bold;');
console.log('%cBuilt with ‚ù§Ô∏è using Vanilla JavaScript', 'font-size: 14px; color: #1a1a2e;');
